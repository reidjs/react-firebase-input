{"version":3,"sources":["../../src/index.js","App.js","index.js"],"names":["FirebaseForm","props","dbRef","newRecord","callback","ref","createRef","otherProps","Object","onSubmit","e","obj","allDescendantsWithRefKey","node","result","i","childNode","refkeyAttr","type","refkey","record","FirebaseInput","useState","value","setValue","checked","setChecked","refKey","handleChange","Error","handleCheckboxChange","handleRadioChange","updateDatabase","snapshot","val","useEffect","onChange","disabled","App","setDbRef","db","setDb","dbRefString","setDbRefString","localStorage","getItem","config","setConfig","setRefKey","err","setError","inputError","setInputError","success","setSuccess","newRecordResult","setNewRecordResult","updateRecordResult","setUpdateRecordResult","name","setName","email","setEmail","updateConfigSecrets","a","target","handleInputError","msg","message","updateDbRef","useCallback","preventDefault","c","JSON","parse","firebase","initializeApp","t","database","r","setItem","style","padding","href","placeholder","rows","cols","color","marginBottom","border","background","onClick","display","flexWrap","min","max","res","margin","height","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.043a8a27.chunk.js","sourcesContent":["import React, { useState, useEffect, createRef } from 'react'\n\n// Helper function for forms, loops through all the children for attribute 'refkey' to grab values from.\n// https://stackoverflow.com/questions/2712136/how-do-i-make-this-loop-all-children-recursively\nconst allDescendantsWithRefKey = (node, result = {}) => {\n  for (let i = 0; i < node.childNodes.length; i++) {\n    const childNode = node.childNodes[i]\n    allDescendantsWithRefKey(childNode, result)\n    if (childNode.getAttributeNode) {\n      // Only children with refkey attribute are taken into account.\n      const refkeyAttr = childNode.getAttributeNode('refkey')\n      const type = childNode.getAttributeNode('type')\n      if (refkeyAttr) {\n        const refkey = refkeyAttr.value\n        if (type && (type.value === 'checkbox' || type.value === 'radio')) {\n          if (type.value === 'checkbox') {\n            result[refkey] = childNode.checked\n          }\n          if (type.value === 'radio' && childNode.checked) {\n            result[refkey] = childNode.value\n          }\n        } else {\n          result[refkey] = childNode.value\n        }\n      }\n    }\n  }\n  return result\n}\n\n/**\n * <FirebaseForm>\n *   <input refkey=\"foo\" value=\"bar\" />\n *   <button>Submit</button>\n * </FirebaseForm>\n * \n * Wrap inputs with a refkey=\"\" prop to create a form that submits to your firebase realtime database instance\n * \n * @dbRef     { reference } reference to object within firebase realtime database, e.g., database.ref('/foo/bar')\n * @newRecord { bool }      if set to a truthy value, pushes a new object to the database at the reference.\n * @callback  { function }  called with (null, newRecord.key) on success, or (error) on error\n */\nexport const FirebaseForm = (props) => {\n  const { dbRef, newRecord, callback } = props\n  const ref = createRef()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    const obj = allDescendantsWithRefKey(ref.current)\n    if (newRecord) {\n      const record = dbRef.push()\n      record\n        .set(obj)\n        .then(() => {\n          if (callback) callback(null, record.key)\n        })\n        .catch((err) => {\n          if (callback) callback(err)\n        })\n    } else {\n      dbRef\n        .update(obj)\n        .then(() => {\n          if (callback) {\n            callback(null)\n          }\n        })\n        .catch((err) => {\n          if (callback) {\n            callback(err)\n          }\n        })\n    }\n  }\n\n  const otherProps = Object.assign({}, props)\n  delete otherProps.onSubmit\n  delete otherProps.dbRef\n  delete otherProps.newRecord\n  delete otherProps.callback\n\n  return (\n    <form {...otherProps} ref={ref} onSubmit={props.onSubmit || handleSubmit}>\n      {props.children}\n    </form>\n  )\n}\n\n/** \n * <FirebaseInput />\n * \n * Returns firebase component that syncs to realtime database \n *   \n * @dbRef     { reference } to the firebase database instance e.g. database.ref('users/john/')\n * @refKey    { string }    the specific key in the ref, e.g., for 'users/john/email' it would be 'email'\n * @callback  { function }  callback function, called with (null, value) on success and (err) on fail.\n */\nexport const FirebaseInput = (props) => {\n  const [value, setValue] = useState('')\n  const [checked, setChecked] = useState(false)\n  const { dbRef, refKey, callback } = props\n\n  const handleChange = (e) => {\n    const obj = {}\n    const value = e.target.value\n    if (!dbRef) {\n      throw Error('no database reference')\n    }\n    if (!refKey) {\n      throw Error('no reference key')\n    }\n    switch (props.type) {\n      case 'checkbox':\n        handleCheckboxChange()\n        return\n      case 'radio':\n        handleRadioChange(value)\n        return\n      default:\n        obj[refKey] = value\n        updateDatabase(obj, value)\n    }\n  }\n\n  const updateDatabase = (obj, value) => {\n    dbRef\n      .update(obj)\n      .then(() => {\n        if (callback) {\n          callback(null, value)\n        }\n      })\n      .catch((err) => {\n        if (callback) {\n          callback(err)\n        }\n      })\n  }\n\n  const handleCheckboxChange = () => {\n    const obj = {}\n\n    dbRef.once('value').then((snapshot) => {\n      if (snapshot.exists()) {\n        const val = snapshot.val()\n        if (val[refKey] === true) {\n          obj[refKey] = false\n          setChecked(false)\n        } else {\n          obj[refKey] = true\n          setChecked(true)\n        }\n      } else {\n        // if obj doesnt exist in DB, it is created with the key whatever refKey is\n        obj[refKey] = checked\n      }\n      updateDatabase(obj, checked)\n    })\n  }\n  const handleRadioChange = (value) => {\n    const obj = {}\n\n    dbRef.once('value').then((snapshot) => {\n      if (snapshot.exists()) {\n        const val = snapshot.val()\n        if (val[refKey] === value) {\n          obj[refKey] = ''\n        } else {\n          obj[refKey] = value\n        }\n      } else {\n        // if object doesn't exist in DB, it is set to the value of the radio input\n        if (checked) {\n          obj[refKey] = value\n        }\n      }\n      updateDatabase(obj, value)\n    })\n  }\n\n  const otherProps = Object.assign({}, props)\n  delete otherProps.dbRef\n  delete otherProps.refKey\n  delete otherProps.callback\n\n\n  useEffect(() => {\n    if (!dbRef || !refKey) return\n\n    if (props.type === 'checkbox') {\n      dbRef.once('value').then((snapshot) => {\n        if (snapshot.exists()) {\n          // let val\n          if (snapshot.val() && snapshot.val()[refKey]) {\n            const val = snapshot.val()[refKey]\n            // eslint-disable-next-line\n            setChecked(val == true)\n          }\n        }\n      })\n    } else if (props.type === 'radio') {\n      dbRef.on('value', (snapshot) => {\n        if (snapshot.exists()) {\n          if (snapshot.val() && snapshot.val()[refKey]) {\n            const val = snapshot.val()[refKey]\n            setChecked(val === props.value)\n          }\n        }\n      })\n    } else {\n      dbRef.on('value', (snapshot) => {\n        if (snapshot.exists()) {\n          let val\n          if (snapshot.val() && snapshot.val()[refKey]) {\n            val = snapshot.val()[refKey]\n          }\n          setValue(val)\n        }\n      })\n    }\n  }, [dbRef, refKey])\n\n  if (props.type === 'textarea') {\n    return (\n      <textarea\n        onChange={handleChange}\n        {...otherProps}\n        disabled={props.disabled || !dbRef || !refKey}\n      />\n    )\n  } else if (props.type === 'checkbox') {\n    return (\n      <input\n        onChange={handleChange}\n        {...otherProps}\n        disabled={props.disabled || !dbRef || !refKey}\n        checked={checked}\n      />\n    )\n  } else if (props.type === 'radio') {\n    return (\n      <input\n        onChange={handleChange}\n        {...otherProps}\n        disabled={props.disabled || !dbRef || !refKey}\n        checked={checked}\n      />\n    )\n  } else {\n    return (\n      <input\n        onChange={handleChange}\n        value={props.value || value}\n        {...otherProps}\n        disabled={props.disabled || !dbRef || !refKey}\n      />\n    )\n  }\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport firebase from 'firebase'\nimport { FirebaseInput, FirebaseForm } from 'react-firebase-input'\nimport 'react-firebase-input/dist/index.css'\n\nconst exampleConfig = `{\n  \"apiKey\": \"YOURAPIKEY\",\n  \"authDomain\": \"PROJECTID.firebaseapp.com\",\n  \"databaseURL\": \"https://PROJECTID.firebaseio.com\",\n  \"projectId\": \"PROJECTID\",\n  \"storageBucket\": \"PROJECTID.appspot.com\",\n  \"messagingSenderId\": \"873011175747\",\n  \"appId\": \"1:873011175747:web:a7066a6062c881d3bb4ff6\"\n}`\n// const instance = firebase.initializeApp(firebaseConfig);\nconst App = () => {\n  // let instance\n  // let db\n  const [dbRef, setDbRef] = useState(null)\n  const [db, setDb] = useState(null)\n  const [dbRefString, setDbRefString] = useState('/')\n  const [config, setConfig] = useState(localStorage.getItem('config') || '')\n  const [refKey, setRefKey] = useState('')\n  const [err, setError] = useState('')\n  const [inputError, setInputError] = useState('')\n  const [success, setSuccess] = useState('')\n  const [newRecordResult, setNewRecordResult] = useState('')\n  const [updateRecordResult, setUpdateRecordResult] = useState('')\n\n  // FirebaseForm specific\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  // const [radioInput, setRadioInput] = useState('')\n  const updateConfigSecrets = async e => {\n    setError('')\n    setSuccess('')\n    setConfig(e.target.value)\n  }\n  const handleDbRefChange = e => {\n    setDbRefString(e.target.value)\n  }\n  const handleKeyChange = e => {\n    setRefKey(e.target.value)\n  }\n\n  const handleInputError = err => {\n    let msg = err\n    if (err && err.message) {\n      msg = err.message\n    }\n    setInputError(msg)\n  }\n\n  const newRecordCallback = (res) => {\n    let msg = res\n    if (res && res.message) {\n      msg = res.message\n    }\n    setNewRecordResult(msg)\n  }\n\n  const updateRecordCallback = (res) => {\n    let msg = res\n    if (res && res.message) {\n      msg = res.message\n    }\n    setUpdateRecordResult(msg)\n  }\n\n  const updateDbRef = useCallback(async (e) => {\n    if (e)\n      e.preventDefault()\n    try {\n      const c = JSON.parse(config)\n      if (!db) {\n        await firebase.initializeApp(c);\n        const t = firebase.database()\n        setDb(t)\n        setDbRef(t.ref(dbRefString))\n      } else {\n        const r = db.ref(dbRefString)\n        setDbRef(r)\n      }\n      setSuccess('Success.')\n    } catch (err) {\n      setError(err.message)\n    }\n  }, [config, db, dbRefString])\n  useEffect(() => {\n    if (config) {\n      localStorage.setItem('config', config)\n      updateDbRef()\n    }\n  }, [config, updateDbRef])\n\n  return (\n    <div style={{ padding: \"10px 30px\" }}>\n      <a href=\"https://github.com/reidjs/react-firebase-input\">Github Repo</a>\n      <form>\n        <h1>Firebase Config</h1>\n        <h3>Paste your Firebase Realtime Database config JSON here</h3>\n        <small>This will be saved in localStorage</small>\n        <br />\n        <textarea placeholder={config || exampleConfig} rows=\"15\" cols=\"40\" onChange={updateConfigSecrets}>\n        </textarea>\n        <h3>Database Reference</h3>\n        <input onChange={handleDbRefChange} value={dbRefString}></input>\n        <h3 style={{ color: (refKey ? '' : 'red'), marginBottom: '0' }}>Reference Key</h3>\n        <small>(Not necessary for FirebaseForm)</small>\n        <p />\n        <input onChange={handleKeyChange} style={{ border: refKey ? '' : '1px solid red' }} value={refKey}></input>\n        <br />\n        <br />\n        <h3>Update Configuration</h3>\n        <button style={{ background: 'green', color: 'white', padding: '10px' }} onClick={updateDbRef}>Submit</button>\n\n        <p style={{ color: 'red' }}>{err}</p>\n        <p style={{ color: 'green' }}>{success}</p>\n      </form>\n      <hr />\n      <h1>Components</h1>\n      <div style={{ color: 'red' }}>{inputError}</div>\n      <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n        <ul>\n          <h2>Text Inputs</h2>\n          <li>\n            <h3>FirebaseInput</h3>\n            {/* <button onClick={submitConfig}>submit configuration</button> */}\n            <FirebaseInput callback={handleInputError} dbRef={dbRef} refKey={refKey} placeholder=\"Edit text here!\" />\n\n          </li>\n          <li>\n            <h3>FirebaseInput[type=\"email\"]</h3>\n            <FirebaseInput callback={handleInputError} type=\"email\" dbRef={dbRef} refKey={refKey} placeholder=\"Edit text here!\" />\n          </li>\n          <li>\n            <h3>FirebaseInput[type=\"password\"]</h3>\n            <FirebaseInput callback={handleInputError} type=\"password\" dbRef={dbRef} refKey={refKey} placeholder=\"Edit text here!\" />\n          </li>\n          <li>\n            <h3>FirebaseInput[type=\"tel\"]</h3>\n            <FirebaseInput callback={handleInputError} type=\"tel\" dbRef={dbRef} refKey={refKey} placeholder=\"Edit text here!\" />\n          </li>\n        </ul>\n        <ul>\n          <h2>Other Inputs</h2>\n          <li>\n            <h3>FirebaseInput[type=\"checkbox\"]</h3>\n            <div>\n              <FirebaseInput callback={handleInputError} type=\"checkbox\" dbRef={dbRef} refKey={refKey} placeholder=\"Edit text here!\" />\n              <span>Sets the reference true or false</span>\n            </div>\n          </li>\n          <li>\n            <h3>FirebaseInput[type=\"radio\"]</h3>\n            <small>Sets the reference to the value of the radio button</small>\n            <ul>\n              <div>\n                <FirebaseInput callback={handleInputError} type=\"radio\" dbRef={dbRef} refKey={refKey} value=\"cats\" />\n                <span>Cats</span>\n              </div>\n              <div>\n                <FirebaseInput callback={handleInputError} type=\"radio\" dbRef={dbRef} refKey={refKey} value=\"dogs\" />\n                <span>Dogs</span>\n              </div>\n              <div>\n                <FirebaseInput callback={handleInputError} type=\"radio\" dbRef={dbRef} refKey={refKey} value=\"lizards\" />\n                <span>Lizards</span>\n              </div>\n            </ul>\n          </li>\n          <li>\n            <h3>FirebaseInput[type=\"textarea\"]</h3>\n            <div>\n              <FirebaseInput callback={handleInputError} type=\"textarea\" dbRef={dbRef} refKey={refKey} />\n            </div>\n          </li>\n          <li>\n            <h3>FirebaseInput[type=\"range\"]</h3>\n            <div>\n              <FirebaseInput callback={handleInputError} type=\"range\" dbRef={dbRef} refKey={refKey} min=\"0\" max=\"100\" />\n            </div>\n          </li>\n        </ul>\n        <ul>\n          <h2>Forms</h2>\n          <h3>FirebaseForm</h3>\n          <li style={{ display: 'flex flex-col', marginBottom: '10px', flexWrap: 'wrap' }}>\n            <div>\n              <FirebaseForm callback={newRecordCallback} style={{ border: '1px solid black', padding: '15px' }} newRecord={true} dbRef={dbRef}>\n                <div>Example Form <span style={{ color: 'green' }}>(New Record)</span></div>\n                <p></p>\n                <div>Name</div>\n                <input onChange={(e) => setName(e.target.value)} value={name} refkey=\"name\" />\n                <div style={{ margin: '10px 0' }}></div>\n                <div>Email</div>\n                <input onChange={(e) => setEmail(e.target.value)} value={email} refkey=\"email\" type=\"email\" />\n                <p></p>\n                <div>\n                  <span>\n                    <input refkey=\"race\" name=\"race\" type=\"radio\" value=\"human\" />\n                    <span>Human</span>\n                  </span>\n                  <span>\n                    <input refkey=\"race\" name=\"race\" type=\"radio\" value=\"robot\" />\n                    <span>Robot</span>\n                  </span>\n                  <span>\n                    <input refkey=\"race\" name=\"race\" type=\"radio\" value=\"alien\" />\n                    <span>Alien</span>\n                  </span>\n                </div>\n                <p></p>\n                <input type=\"checkbox\" refkey=\"agreeToForm\" />\n                <span>Agree?</span>\n\n                <p></p>\n                <button>Submit</button>\n                <div style={{ color: 'red' }}>{newRecordResult}</div>\n              </FirebaseForm>\n            </div>\n          </li>\n          <li>\n            <div>\n              <FirebaseForm callback={updateRecordCallback} style={{ border: '1px solid black', padding: '15px' }} dbRef={dbRef}>\n                <div>Example Form <span style={{ color: 'black' }}>(Edit Record)</span></div>\n                <p></p>\n                <div>Name</div>\n                <input onChange={(e) => setName(e.target.value)} value={name} refkey=\"name\" />\n                <div style={{ margin: '10px 0' }}></div>\n                <div>Email</div>\n                <input onChange={(e) => setEmail(e.target.value)} value={email} refkey=\"email\" type=\"email\" />\n                <p></p>\n                <div>\n                  <span>\n                    <input refkey=\"race\" name=\"race\" type=\"radio\" value=\"human\" />\n                    <span>Human</span>\n                  </span>\n                  <span>\n                    <input refkey=\"race\" name=\"race\" type=\"radio\" value=\"robot\" />\n                    <span>Robot</span>\n                  </span>\n                  <span>\n                    <input refkey=\"race\" name=\"race\" type=\"radio\" value=\"alien\" />\n                    <span>Alien</span>\n                  </span>\n                </div>\n                <p></p>\n                <input type=\"checkbox\" refkey=\"agreeToForm\" />\n                <span>Agree?</span>\n                <p></p>\n                <button>Submit</button>\n                <div style={{ color: 'red' }}>{updateRecordResult}</div>\n              </FirebaseForm>\n            </div>\n          </li>\n        </ul>\n      </div>\n      {/* <hr /> */}\n      {/* <h1>Test Area</h1>\n      <FirebaseForm dbRef={dbRef}>\n        <div>Uncontrolled input (state not controlled by react)</div>\n        <input refkey=\"testing\"/>\n        <div>\n          <div>Nested input</div>\n          <input refkey=\"testing2\"/>\n        </div>\n        <div></div>\n        <button>Submit</button>\n      </FirebaseForm> */}\n      <div style={{ height: \"100px\" }}>\n\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}