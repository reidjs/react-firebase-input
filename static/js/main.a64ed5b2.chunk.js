(this["webpackJsonpreact-firebase-input-example"]=this["webpackJsonpreact-firebase-input-example"]||[]).push([[0],{16:function(e,t,a){e.exports=a(28)},17:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);a(17);var l=a(2),n=a.n(l),r=a(15),c=a.n(r),u=a(9),i=a.n(u),o=a(11),s=a(6),m=a(12);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}).apply(this,arguments)}var p=function(e){var t=e.dbRef,a=e.newRecord,r=e.callback,c=Object(l.createRef)(),u=Object.assign({},e);return delete u.onSubmit,delete u.dbRef,delete u.newRecord,delete u.callback,n.a.createElement("form",d({},u,{ref:c,onSubmit:e.onSubmit||function(e){e.preventDefault();var l=function e(t,a){void 0===a&&(a={});for(var l=0;l<t.childNodes.length;l++){var n=t.childNodes[l];if(e(n,a),n.getAttributeNode){var r=n.getAttributeNode("refkey");r&&(a[r.value]=n.value)}}return a}(c.current);if(a){var n=t.push();n.set(l).then((function(){r&&r(n.key)})).catch((function(e){r&&r(e)}))}else t.update(l).then((function(){r&&r()})).catch((function(e){r&&r(e)}))}}),e.children)},b=function(e){var t=Object(l.useState)(""),a=t[0],r=t[1],c=Object(l.useState)(!1),u=c[0],i=c[1],o=e.dbRef,s=e.refKey,m=e.callback,p=function(t){if(!o)throw Error("no database reference");if(!s)throw Error("no reference key");switch(e.type){case"checkbox":return void f();case"radio":return void E(t.target.value);default:b(t.target.value)}},b=function(e){var t={};t[s]=e,o.update(t).then((function(){m&&m()})).catch((function(e){m&&m(e)}))},f=function(e){var t={};o.once("value").then((function(e){e.exists()&&(!0===e.val()[s]?(t[s]=!1,i(!1)):(t[s]=!0,i(!0)),o.update(t).then((function(){m&&m()})).catch((function(e){m&&m(e)})))}))},E=function(e){var t={};o.once("value").then((function(a){a.exists()&&(a.val()[s]===e?t[s]="":t[s]=e,o.update(t).then((function(){m&&m()})).catch((function(e){m&&m(e)})))}))},v=Object.assign({},e);return delete v.dbRef,delete v.refKey,delete v.callback,Object(l.useEffect)((function(){o&&s&&("checkbox"===e.type?o.once("value").then((function(e){if(e.exists()&&e.val()&&e.val()[s]){var t=e.val()[s];i(1==t)}})):"radio"===e.type?o.on("value",(function(t){if(t.exists()&&t.val()&&t.val()[s]){var a=t.val()[s];i(a===e.value)}})):o.on("value",(function(e){var t;e.exists()&&(e.val()&&e.val()[s]&&(t=e.val()[s]),r(t))})))}),[o,s]),"textarea"===e.type?n.a.createElement("textarea",d({onChange:p},v,{disabled:e.disabled||!o||!s})):"checkbox"===e.type||"radio"===e.type?n.a.createElement("input",d({onChange:p},v,{disabled:e.disabled||!o||!s,checked:u})):n.a.createElement("input",d({onChange:p,value:a},v,{disabled:e.disabled||!o||!s}))},f=(a(27),()=>{var e=Object(l.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(l.useState)(null),u=Object(s.a)(c,2),d=u[0],f=u[1],E=Object(l.useState)("/"),v=Object(s.a)(E,2),h=v[0],y=v[1],g=Object(l.useState)(localStorage.getItem("config")||""),x=Object(s.a)(g,2),O=x[0],k=x[1],j=Object(l.useState)(""),R=Object(s.a)(j,2),S=R[0],w=R[1],I=Object(l.useState)(""),C=Object(s.a)(I,2),F=C[0],K=C[1],D=Object(l.useState)(""),N=Object(s.a)(D,2),J=N[0],P=N[1],T=Object(l.useState)(""),A=Object(s.a)(T,2),z=A[0],B=A[1],U=Object(l.useState)(""),L=Object(s.a)(U,2),W=L[0],Y=L[1],G=Object(l.useState)(""),q=Object(s.a)(G,2),H=q[0],M=q[1],Q=Object(l.useState)(""),V=Object(s.a)(Q,2),X=V[0],Z=V[1],$=Object(l.useState)(""),_=Object(s.a)($,2),ee=_[0],te=_[1],ae=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K(""),B(""),k(t.target.value);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=e=>{var t=e;e&&e.message&&(t=e.message),P(t)},ne=Object(l.useCallback)(function(){var e=Object(o.a)(i.a.mark((function e(t){var a,l,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),e.prev=1,a=JSON.parse(O),d){e.next=11;break}return e.next=6,m.a.initializeApp(a);case 6:l=m.a.database(),f(l),r(l.ref(h)),e.next=13;break;case 11:n=d.ref(h),r(n);case 13:B("Success."),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),K(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),[O,d,h]);return Object(l.useEffect)(()=>{O&&(localStorage.setItem("config",O),ne())},[O,ne]),n.a.createElement("div",{style:{padding:"10px 30px"}},n.a.createElement("a",{href:"https://github.com/reidjs/react-firebase-input"},"Github Repo"),n.a.createElement("form",null,n.a.createElement("h1",null,"Firebase Config"),n.a.createElement("h3",null,"Paste your Firebase Realtime Database config JSON here"),n.a.createElement("small",null,"This will be saved in localStorage"),n.a.createElement("br",null),n.a.createElement("textarea",{placeholder:O||'{\n  "apiKey": "YOURAPIKEY",\n  "authDomain": "PROJECTID.firebaseapp.com",\n  "databaseURL": "https://PROJECTID.firebaseio.com",\n  "projectId": "PROJECTID",\n  "storageBucket": "PROJECTID.appspot.com",\n  "messagingSenderId": "873011175747",\n  "appId": "1:873011175747:web:a7066a6062c881d3bb4ff6"\n}',rows:"15",cols:"40",onChange:ae}),n.a.createElement("h3",null,"Database Reference"),n.a.createElement("input",{onChange:e=>{y(e.target.value)},value:h}),n.a.createElement("h3",{style:{color:S?"":"red",marginBottom:"0"}},"Reference Key"),n.a.createElement("small",null,"(Not necessary for FirebaseForm)"),n.a.createElement("p",null),n.a.createElement("input",{onChange:e=>{w(e.target.value)},style:{border:S?"":"1px solid red"},value:S}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h3",null,"Update Configuration"),n.a.createElement("button",{style:{background:"green",color:"white",padding:"10px"},onClick:ne},"Submit"),n.a.createElement("p",{style:{color:"red"}},F),n.a.createElement("p",{style:{color:"green"}},z)),n.a.createElement("hr",null),n.a.createElement("h1",null,"Components"),n.a.createElement("div",{style:{color:"red"}},J),n.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},n.a.createElement("ul",null,n.a.createElement("h2",null,"Text Inputs"),n.a.createElement("li",null,n.a.createElement("h3",null,"FirebaseInput"),n.a.createElement(b,{callback:le,dbRef:a,refKey:S,placeholder:"Edit text here!"})),n.a.createElement("li",null,n.a.createElement("h3",null,'FirebaseInput[type="email"]'),n.a.createElement(b,{callback:le,type:"email",dbRef:a,refKey:S,placeholder:"Edit text here!"})),n.a.createElement("li",null,n.a.createElement("h3",null,'FirebaseInput[type="password"]'),n.a.createElement(b,{callback:le,type:"password",dbRef:a,refKey:S,placeholder:"Edit text here!"})),n.a.createElement("li",null,n.a.createElement("h3",null,'FirebaseInput[type="tel"]'),n.a.createElement(b,{callback:le,type:"tel",dbRef:a,refKey:S,placeholder:"Edit text here!"}))),n.a.createElement("ul",null,n.a.createElement("h2",null,"Other Inputs"),n.a.createElement("li",null,n.a.createElement("h3",null,'FirebaseInput[type="checkbox"]'),n.a.createElement("div",null,n.a.createElement(b,{callback:le,type:"checkbox",dbRef:a,refKey:S,placeholder:"Edit text here!"}),n.a.createElement("span",null,"Sets the reference true or false"))),n.a.createElement("li",null,n.a.createElement("h3",null,'FirebaseInput[type="radio"]'),n.a.createElement("small",null,"Sets the reference to the value of the radio button"),n.a.createElement("ul",null,n.a.createElement("div",null,n.a.createElement(b,{callback:le,type:"radio",dbRef:a,refKey:S,value:"cats"}),n.a.createElement("span",null,"Cats")),n.a.createElement("div",null,n.a.createElement(b,{callback:le,type:"radio",dbRef:a,refKey:S,value:"dogs"}),n.a.createElement("span",null,"Dogs")),n.a.createElement("div",null,n.a.createElement(b,{callback:le,type:"radio",dbRef:a,refKey:S,value:"lizards"}),n.a.createElement("span",null,"Lizards")))),n.a.createElement("li",null,n.a.createElement("h3",null,'FirebaseInput[type="textarea"]'),n.a.createElement("div",null,n.a.createElement(b,{callback:le,type:"textarea",dbRef:a,refKey:S}))),n.a.createElement("li",null,n.a.createElement("h3",null,'FirebaseInput[type="range"]'),n.a.createElement("div",null,n.a.createElement(b,{callback:le,type:"range",dbRef:a,refKey:S,min:"0",max:"100"})))),n.a.createElement("ul",null,n.a.createElement("h2",null,"Forms"),n.a.createElement("h3",null,"FirebaseForm"),n.a.createElement("li",{style:{display:"flex flex-col",flexWrap:"wrap"}},n.a.createElement("div",null,n.a.createElement(p,{callback:e=>{console.log("res",e);var t=e;e&&e.message&&(t=e.message),Y(t)},style:{border:"1px solid black",padding:"15px"},newRecord:!0,dbRef:a},n.a.createElement("div",null,"Example Form (New Record)"),n.a.createElement("p",null),n.a.createElement("div",null,"Name"),n.a.createElement("input",{onChange:e=>Z(e.target.value),value:X,refkey:"name"}),n.a.createElement("div",{style:{margin:"10px 0"}}),n.a.createElement("div",null,"Email"),n.a.createElement("input",{onChange:e=>te(e.target.value),value:ee,refkey:"email",type:"email"}),n.a.createElement("p",null),n.a.createElement("button",null,"Submit"),n.a.createElement("div",{style:{color:"red"}},W))),n.a.createElement("div",null,n.a.createElement(p,{callback:e=>{console.log("res",e);var t=e;e&&e.message&&(t=e.message),console.log("msg",t),M(t)},style:{border:"1px solid black",padding:"15px"},dbRef:a},n.a.createElement("div",null,"Example Form (Edit Record)"),n.a.createElement("p",null),n.a.createElement("div",null,"Name"),n.a.createElement("input",{onChange:e=>Z(e.target.value),value:X,refkey:"name"}),n.a.createElement("div",{style:{margin:"10px 0"}}),n.a.createElement("div",null,"Email"),n.a.createElement("input",{onChange:e=>te(e.target.value),value:ee,refkey:"email",type:"email"}),n.a.createElement("p",null),n.a.createElement("button",null,"Submit"),n.a.createElement("div",{style:{color:"red"}},H)))))),n.a.createElement("div",{style:{height:"100px"}}))});c.a.render(n.a.createElement(f,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.a64ed5b2.chunk.js.map