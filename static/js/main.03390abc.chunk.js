(this["webpackJsonpreact-firebase-input-example"]=this["webpackJsonpreact-firebase-input-example"]||[]).push([[0],{16:function(e,a,t){e.exports=t(28)},17:function(e,a,t){},27:function(e,a,t){},28:function(e,a,t){"use strict";t.r(a);t(17);var l=t(2),n=t.n(l),r=t(15),c=t.n(r),u=t(9),m=t.n(u),i=t(11),s=t(6),o=t(12),p=(e,a={})=>{for(var t=0;t<e.childNodes.length;t++){var l=e.childNodes[t];if(p(l,a),l.getAttributeNode){var n=l.getAttributeNode("refkey"),r=l.getAttributeNode("type");if(n){var c=n.value;!r||"checkbox"!==r.value&&"radio"!==r.value?a[c]=l.value:("checkbox"===r.value&&(a[c]=l.checked),"radio"===r.value&&l.checked&&(a[c]=l.value))}}}return a},d=e=>{var a=e.dbRef,t=e.newRecord,r=e.callback,c=Object(l.createRef)(),u=Object.assign({},e);return delete u.onSubmit,delete u.dbRef,delete u.newRecord,delete u.callback,n.a.createElement("form",Object.assign({},u,{ref:c,onSubmit:e.onSubmit||(e=>{e.preventDefault();var l=p(c.current);if(t){var n=a.push();n.set(l).then(()=>{r&&r(null,n.key)}).catch(e=>{r&&r(e)})}else a.update(l).then(()=>{r&&r(null)}).catch(e=>{r&&r(e)})})}),e.children)},E=e=>{var a=Object(l.useState)(""),t=Object(s.a)(a,2),r=t[0],c=t[1],u=Object(l.useState)(!1),m=Object(s.a)(u,2),i=m[0],o=m[1],p=e.dbRef,d=e.refKey,E=e.callback,b=a=>{var t={};if(!p)throw Error("no database reference");if(!d)throw Error("no reference key");switch(e.type){case"checkbox":return void f();case"radio":return void h(a.target.value);default:t[d]=a.target.value,v(t)}},v=e=>{p.update(e).then(()=>{E&&E(null)}).catch(e=>{E&&E(e)})},f=()=>{var e={};p.once("value").then(a=>{a.exists()?!0===a.val()[d]?(e[d]=!1,o(!1)):(e[d]=!0,o(!0)):e[d]=i;v(e)})},h=e=>{var a={};p.once("value").then(t=>{t.exists()?t.val()[d]===e?a[d]="":a[d]=e:i&&(a[d]=e);v(a)})},y=Object.assign({},e);return delete y.dbRef,delete y.refKey,delete y.callback,Object(l.useEffect)(()=>{p&&d&&("checkbox"===e.type?p.once("value").then(e=>{if(e.exists()&&e.val()&&e.val()[d]){var a=e.val()[d];o(1==a)}}):"radio"===e.type?p.on("value",a=>{if(a.exists()&&a.val()&&a.val()[d]){var t=a.val()[d];o(t===e.value)}}):p.on("value",e=>{var a;e.exists()&&(e.val()&&e.val()[d]&&(a=e.val()[d]),c(a))}))},[p,d]),"textarea"===e.type?n.a.createElement("textarea",Object.assign({onChange:b},y,{disabled:e.disabled||!p||!d})):"checkbox"===e.type||"radio"===e.type?n.a.createElement("input",Object.assign({onChange:b},y,{disabled:e.disabled||!p||!d,checked:i})):n.a.createElement("input",Object.assign({onChange:b,value:r},y,{disabled:e.disabled||!p||!d}))},b=(t(27),()=>{var e=Object(l.useState)(null),a=Object(s.a)(e,2),t=a[0],r=a[1],c=Object(l.useState)(null),u=Object(s.a)(c,2),p=u[0],b=u[1],v=Object(l.useState)("/"),f=Object(s.a)(v,2),h=f[0],y=f[1],g=Object(l.useState)(localStorage.getItem("config")||""),k=Object(s.a)(g,2),x=k[0],O=k[1],j=Object(l.useState)(""),R=Object(s.a)(j,2),S=R[0],w=R[1],I=Object(l.useState)(""),C=Object(s.a)(I,2),F=C[0],K=C[1],N=Object(l.useState)(""),D=Object(s.a)(N,2),A=D[0],J=D[1],T=Object(l.useState)(""),P=Object(s.a)(T,2),B=P[0],z=P[1],U=Object(l.useState)(""),H=Object(s.a)(U,2),L=H[0],W=H[1],Y=Object(l.useState)(""),G=Object(s.a)(Y,2),q=G[0],M=G[1],Q=Object(l.useState)(""),V=Object(s.a)(Q,2),X=V[0],Z=V[1],$=Object(l.useState)(""),_=Object(s.a)($,2),ee=_[0],ae=_[1],te=function(){var e=Object(i.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K(""),z(""),O(a.target.value);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),le=e=>{var a=e;e&&e.message&&(a=e.message),J(a)},ne=Object(l.useCallback)(function(){var e=Object(i.a)(m.a.mark((function e(a){var t,l,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a.preventDefault(),e.prev=1,t=JSON.parse(x),p){e.next=11;break}return e.next=6,o.a.initializeApp(t);case 6:l=o.a.database(),b(l),r(l.ref(h)),e.next=13;break;case 11:n=p.ref(h),r(n);case 13:z("Success."),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),K(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(a){return e.apply(this,arguments)}}(),[x,p,h]);return Object(l.useEffect)(()=>{x&&(localStorage.setItem("config",x),ne())},[x,ne]),n.a.createElement("div",{style:{padding:"10px 30px"}},n.a.createElement("a",{href:"https://github.com/reidjs/react-firebase-input"},"Github Repo"),n.a.createElement("form",null,n.a.createElement("h1",null,"Firebase Config"),n.a.createElement("h3",null,"Paste your Firebase Realtime Database config JSON here"),n.a.createElement("small",null,"This will be saved in localStorage"),n.a.createElement("br",null),n.a.createElement("textarea",{placeholder:x||'{\n  "apiKey": "YOURAPIKEY",\n  "authDomain": "PROJECTID.firebaseapp.com",\n  "databaseURL": "https://PROJECTID.firebaseio.com",\n  "projectId": "PROJECTID",\n  "storageBucket": "PROJECTID.appspot.com",\n  "messagingSenderId": "873011175747",\n  "appId": "1:873011175747:web:a7066a6062c881d3bb4ff6"\n}',rows:"15",cols:"40",onChange:te}),n.a.createElement("h3",null,"Database Reference"),n.a.createElement("input",{onChange:e=>{y(e.target.value)},value:h}),n.a.createElement("h3",{style:{color:S?"":"red",marginBottom:"0"}},"Reference Key"),n.a.createElement("small",null,"(Not necessary for FirebaseForm)"),n.a.createElement("p",null),n.a.createElement("input",{onChange:e=>{w(e.target.value)},style:{border:S?"":"1px solid red"},value:S}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h3",null,"Update Configuration"),n.a.createElement("button",{style:{background:"green",color:"white",padding:"10px"},onClick:ne},"Submit"),n.a.createElement("p",{style:{color:"red"}},F),n.a.createElement("p",{style:{color:"green"}},B)),n.a.createElement("hr",null),n.a.createElement("h1",null,"Components"),n.a.createElement("div",{style:{color:"red"}},A),n.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},n.a.createElement("ul",null,n.a.createElement("h2",null,"Text Inputs"),n.a.createElement("li",null,n.a.createElement("h3",null,"FirebaseInput"),n.a.createElement(E,{callback:le,dbRef:t,refKey:S,placeholder:"Edit text here!"})),n.a.createElement("li",null,n.a.createElement("h3",null,'FirebaseInput[type="email"]'),n.a.createElement(E,{callback:le,type:"email",dbRef:t,refKey:S,placeholder:"Edit text here!"})),n.a.createElement("li",null,n.a.createElement("h3",null,'FirebaseInput[type="password"]'),n.a.createElement(E,{callback:le,type:"password",dbRef:t,refKey:S,placeholder:"Edit text here!"})),n.a.createElement("li",null,n.a.createElement("h3",null,'FirebaseInput[type="tel"]'),n.a.createElement(E,{callback:le,type:"tel",dbRef:t,refKey:S,placeholder:"Edit text here!"}))),n.a.createElement("ul",null,n.a.createElement("h2",null,"Other Inputs"),n.a.createElement("li",null,n.a.createElement("h3",null,'FirebaseInput[type="checkbox"]'),n.a.createElement("div",null,n.a.createElement(E,{callback:le,type:"checkbox",dbRef:t,refKey:S,placeholder:"Edit text here!"}),n.a.createElement("span",null,"Sets the reference true or false"))),n.a.createElement("li",null,n.a.createElement("h3",null,'FirebaseInput[type="radio"]'),n.a.createElement("small",null,"Sets the reference to the value of the radio button"),n.a.createElement("ul",null,n.a.createElement("div",null,n.a.createElement(E,{callback:le,type:"radio",dbRef:t,refKey:S,value:"cats"}),n.a.createElement("span",null,"Cats")),n.a.createElement("div",null,n.a.createElement(E,{callback:le,type:"radio",dbRef:t,refKey:S,value:"dogs"}),n.a.createElement("span",null,"Dogs")),n.a.createElement("div",null,n.a.createElement(E,{callback:le,type:"radio",dbRef:t,refKey:S,value:"lizards"}),n.a.createElement("span",null,"Lizards")))),n.a.createElement("li",null,n.a.createElement("h3",null,'FirebaseInput[type="textarea"]'),n.a.createElement("div",null,n.a.createElement(E,{callback:le,type:"textarea",dbRef:t,refKey:S}))),n.a.createElement("li",null,n.a.createElement("h3",null,'FirebaseInput[type="range"]'),n.a.createElement("div",null,n.a.createElement(E,{callback:le,type:"range",dbRef:t,refKey:S,min:"0",max:"100"})))),n.a.createElement("ul",null,n.a.createElement("h2",null,"Forms"),n.a.createElement("h3",null,"FirebaseForm"),n.a.createElement("li",{style:{display:"flex flex-col",marginBottom:"10px",flexWrap:"wrap"}},n.a.createElement("div",null,n.a.createElement(d,{callback:e=>{var a=e;e&&e.message&&(a=e.message),W(a)},style:{border:"1px solid black",padding:"15px"},newRecord:!0,dbRef:t},n.a.createElement("div",null,"Example Form ",n.a.createElement("span",{style:{color:"green"}},"(New Record)")),n.a.createElement("p",null),n.a.createElement("div",null,"Name"),n.a.createElement("input",{onChange:e=>Z(e.target.value),value:X,refkey:"name"}),n.a.createElement("div",{style:{margin:"10px 0"}}),n.a.createElement("div",null,"Email"),n.a.createElement("input",{onChange:e=>ae(e.target.value),value:ee,refkey:"email",type:"email"}),n.a.createElement("p",null),n.a.createElement("div",null,n.a.createElement("span",null,n.a.createElement("input",{refkey:"race",name:"race",type:"radio",value:"human"}),n.a.createElement("span",null,"Human")),n.a.createElement("span",null,n.a.createElement("input",{refkey:"race",name:"race",type:"radio",value:"robot"}),n.a.createElement("span",null,"Robot")),n.a.createElement("span",null,n.a.createElement("input",{refkey:"race",name:"race",type:"radio",value:"alien"}),n.a.createElement("span",null,"Alien"))),n.a.createElement("p",null),n.a.createElement("input",{type:"checkbox",refkey:"agreeToForm"}),n.a.createElement("span",null,"Agree?"),n.a.createElement("p",null),n.a.createElement("button",null,"Submit"),n.a.createElement("div",{style:{color:"red"}},L)))),n.a.createElement("li",null,n.a.createElement("div",null,n.a.createElement(d,{callback:e=>{var a=e;e&&e.message&&(a=e.message),M(a)},style:{border:"1px solid black",padding:"15px"},dbRef:t},n.a.createElement("div",null,"Example Form ",n.a.createElement("span",{style:{color:"black"}},"(Edit Record)")),n.a.createElement("p",null),n.a.createElement("div",null,"Name"),n.a.createElement("input",{onChange:e=>Z(e.target.value),value:X,refkey:"name"}),n.a.createElement("div",{style:{margin:"10px 0"}}),n.a.createElement("div",null,"Email"),n.a.createElement("input",{onChange:e=>ae(e.target.value),value:ee,refkey:"email",type:"email"}),n.a.createElement("p",null),n.a.createElement("div",null,n.a.createElement("span",null,n.a.createElement("input",{refkey:"race",name:"race",type:"radio",value:"human"}),n.a.createElement("span",null,"Human")),n.a.createElement("span",null,n.a.createElement("input",{refkey:"race",name:"race",type:"radio",value:"robot"}),n.a.createElement("span",null,"Robot")),n.a.createElement("span",null,n.a.createElement("input",{refkey:"race",name:"race",type:"radio",value:"alien"}),n.a.createElement("span",null,"Alien"))),n.a.createElement("p",null),n.a.createElement("input",{type:"checkbox",refkey:"agreeToForm"}),n.a.createElement("span",null,"Agree?"),n.a.createElement("p",null),n.a.createElement("button",null,"Submit"),n.a.createElement("div",{style:{color:"red"}},q)))))),n.a.createElement("div",{style:{height:"100px"}}))});c.a.render(n.a.createElement(b,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.03390abc.chunk.js.map